<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>GameStateValueBehaviour</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GameStateValueBehaviour";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">net.demilich.metastone.game.behaviour</a></div>
<h2 title="Class GameStateValueBehaviour" class="title">Class GameStateValueBehaviour</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="AbstractBehaviour.html" title="class in net.demilich.metastone.game.behaviour">net.demilich.metastone.game.behaviour.AbstractBehaviour</a></li>
<li>
<ul class="inheritance">
<li><a href="IntelligentBehaviour.html" title="class in net.demilich.metastone.game.behaviour">net.demilich.metastone.game.behaviour.IntelligentBehaviour</a></li>
<li>
<ul class="inheritance">
<li>net.demilich.metastone.game.behaviour.GameStateValueBehaviour</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Serializable</code>, <code>java.lang.Cloneable</code>, <code><a href="Behaviour.html" title="interface in net.demilich.metastone.game.behaviour">Behaviour</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">GameStateValueBehaviour</span>
extends <a href="IntelligentBehaviour.html" title="class in net.demilich.metastone.game.behaviour">IntelligentBehaviour</a></pre>
<div class="block">GameStateValueBehaviour is an implementation of a decent AI with the best-in-class performance among bots in the
 community.
 <p>
 The objective of the bot is to determine the best possible action from the list of actions it can choose from, given
 the current state of the game. In the AI community, this is called a "policy," and it is typically represented in the
 literature using the Greek letter Pi.
 <p>
 Policies take as inputs a list of actions, like "Friendly hero attacks opposing hero," and the current state of the
 game, in this case all the data available in <a href="../GameContext.html" title="class in net.demilich.metastone.game"><code>GameContext</code></a>, and returns an action as an output. <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a> corresponds to this AI's policy; when implementing an idea, especially
 from the literature, start with <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a>.
 <p>
 In this AI, <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a> tries each action available to take and scoring the
 outcome. The score, in this case, depends on the game state. The action that leads to the highest score is the action
 returned by <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a>. Since card games typically involve combos (sequences
 of actions), this AI will actually play out all available actions until the end of its turn, seeking which starting
 action will maximize its score at the **end** of its turn.
 <p>
 Therefore, the best way to describe this AI is: It is a "single turn horizon" AI. That is, it tries to pick actions
 to maximize a score by the end of the turn.
 <p>
 This means the AI doesn't see some effects that start at the beginning of an opponent's turn, like Doomsayer, or of
 its turn, like the Cursed card. This class special cases cards like these to maintain its basic architecture.
 Additionally, playing around secrets is difficult without a long-term vision of the game, so enemy secrets are
 omitted from the simulation entirely.
 <p>
 How does the AI do scoring? Clearly, it can't be as simple as, "The highest score is whatever reduces the opponent's
 health the most." Indeed, this class uses a complex model for a score, called a <a href="heuristic/Heuristic.html" title="interface in net.demilich.metastone.game.behaviour.heuristic"><code>Heuristic</code></a>, which is capable
 of looking at any factor in the game state to contribute to the score. The specific heuristic used by this class is
 the <a href="heuristic/ThreatBasedHeuristic.html" title="class in net.demilich.metastone.game.behaviour.heuristic"><code>ThreatBasedHeuristic</code></a>. Visiting that class, it's clear that things like holding onto hard-removal cards,
 or fully destroying minions, contribute greatly to the score, along with the heroes' and minions' attack and
 hitpoints.
 <p>
 In order to understand the various tradeoffs between actions, the way the <a href="heuristic/Heuristic.html" title="interface in net.demilich.metastone.game.behaviour.heuristic"><code>Heuristic</code></a> is calculated should
 somehow reflect the actual ability of these actions to lead to victory. Clearly, the score for an action should, in
 an ideal world, be as simple as, "Whatever maximizes my chance of winning." But for the time being, answering that
 question is computationally impossible in this card game. Instead, GameStateValueBehaviour makes the assumption that
 across many games, maximizing some score at the end of my turn maximizes my chance of winning on average. Hearthstone
 generally rewards great tactical play, so this is a surprisingly robust assumption. But it isn't necessarily true for
 many games or for all cards in this game. However, this assumption makes this AI fast, so it is preferred in this
 context.
 <p>
 The <a href="heuristic/ThreatBasedHeuristic.html" title="class in net.demilich.metastone.game.behaviour.heuristic"><code>ThreatBasedHeuristic</code></a> tries to maximize the chance of winning by somehow relating its scoring mechanism to
 the actual outcome of a match. The <b>Cuckoo</b> application in the cluster package is the system that tweaks the
 scoring function in order to choose tweaks that corresponded to greater wins in the game. This approach makes
 GameStateValueBehaviour the best delivered AI in the Hearthstone community.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>to see how each action of the possible actions is tested for the one
 		with the highest score.</code></a>, 
<a href="../../../../../serialized-form.html#net.demilich.metastone.game.behaviour.GameStateValueBehaviour">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">GameStateValueBehaviour</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(net.demilich.metastone.game.behaviour.heuristic.FeatureVector,java.lang.String)">GameStateValueBehaviour</a></span>&#8203;(<a href="heuristic/FeatureVector.html" title="class in net.demilich.metastone.game.behaviour.heuristic">FeatureVector</a>&nbsp;featureVector,
                       java.lang.String&nbsp;nameSuffix)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Behaviour.html" title="interface in net.demilich.metastone.game.behaviour">Behaviour</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clone()">clone</a></span>()</code></th>
<td class="colLast">
<div class="block">Clones the behaviour, typically with its internal state.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Deque&lt;java.lang.Integer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIndexPlan()">getIndexPlan</a></span>()</code></th>
<td class="colLast">
<div class="block">The index plan is a sequence of indices into <a href="../GameContext.html#getValidActions()"><code>GameContext.getValidActions()</code></a> that the bot can perform to go
 towards a previously-computed highest-scoring game state.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaxDepth()">getMaxDepth</a></span>()</code></th>
<td class="colLast">
<div class="block">Indicates the maximum depth of breadth-first-searched nodes that should be expanded in order to find the highest
 scoring game state.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMinFreeMemory()">getMinFreeMemory</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets a name for the behaviour.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Deque&lt;<a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStrictPlan()">getStrictPlan</a></span>()</code></th>
<td class="colLast">
<div class="block">A strict plan is a cache of a computed path (sequence of actions) to a gamestate stored as the actions themselves.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimeout()">getTimeout</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isDisposeNodes()">isDisposeNodes</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isForceGarbageCollection()">isForceGarbageCollection</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isParallel()">isParallel</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../cards/Card.html" title="class in net.demilich.metastone.game.cards">Card</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mulligan(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)">mulligan</a></span>&#8203;(<a href="../GameContext.html" title="class in net.demilich.metastone.game">GameContext</a>&nbsp;context,
        <a href="../Player.html" title="class in net.demilich.metastone.game">Player</a>&nbsp;player,
        java.util.List&lt;<a href="../cards/Card.html" title="class in net.demilich.metastone.game.cards">Card</a>&gt;&nbsp;cards)</code></th>
<td class="colLast">
<div class="block">Mulligans for cards, preferring to create an on-curve starting hand.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)">requestAction</a></span>&#8203;(<a href="../GameContext.html" title="class in net.demilich.metastone.game">GameContext</a>&nbsp;context,
             <a href="../Player.html" title="class in net.demilich.metastone.game">Player</a>&nbsp;player,
             java.util.List&lt;<a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a>&gt;&nbsp;validActions)</code></th>
<td class="colLast">
<div class="block">Requests an action from the GameStateValueBehaviour using a scoring function.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDisposeNodes(boolean)">setDisposeNodes</a></span>&#8203;(boolean&nbsp;disposeNodes)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setForceGarbageCollection(boolean)">setForceGarbageCollection</a></span>&#8203;(boolean&nbsp;forceGarbageCollection)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setIndexPlan(java.util.Deque)">setIndexPlan</a></span>&#8203;(java.util.Deque&lt;java.lang.Integer&gt;&nbsp;indexPlan)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaxDepth(int)">setMaxDepth</a></span>&#8203;(int&nbsp;maxDepth)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setParallel(boolean)">setParallel</a></span>&#8203;(boolean&nbsp;parallel)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStrictPlan(java.util.Deque)">setStrictPlan</a></span>&#8203;(java.util.Deque&lt;<a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a>&gt;&nbsp;strictPlan)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTimeout(long)">setTimeout</a></span>&#8203;(long&nbsp;timeout)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.net.demilich.metastone.game.behaviour.IntelligentBehaviour">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.demilich.metastone.game.behaviour.<a href="IntelligentBehaviour.html" title="class in net.demilich.metastone.game.behaviour">IntelligentBehaviour</a></h3>
<code><a href="IntelligentBehaviour.html#isHuman()">isHuman</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.net.demilich.metastone.game.behaviour.AbstractBehaviour">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.demilich.metastone.game.behaviour.<a href="AbstractBehaviour.html" title="class in net.demilich.metastone.game.behaviour">AbstractBehaviour</a></h3>
<code><a href="AbstractBehaviour.html#mulliganAsync(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List,io.vertx.core.Handler)">mulliganAsync</a>, <a href="AbstractBehaviour.html#onGameOver(net.demilich.metastone.game.GameContext,int,int)">onGameOver</a>, <a href="AbstractBehaviour.html#requestActionAsync(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List,io.vertx.core.Handler)">requestActionAsync</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GameStateValueBehaviour</h4>
<pre>public&nbsp;GameStateValueBehaviour()</pre>
</li>
</ul>
<a id="&lt;init&gt;(net.demilich.metastone.game.behaviour.heuristic.FeatureVector,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GameStateValueBehaviour</h4>
<pre>public&nbsp;GameStateValueBehaviour&#8203;(<a href="heuristic/FeatureVector.html" title="class in net.demilich.metastone.game.behaviour.heuristic">FeatureVector</a>&nbsp;featureVector,
                               java.lang.String&nbsp;nameSuffix)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="clone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre class="methodSignature">public&nbsp;<a href="Behaviour.html" title="interface in net.demilich.metastone.game.behaviour">Behaviour</a>&nbsp;clone()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Behaviour.html#clone()">Behaviour</a></code></span></div>
<div class="block">Clones the behaviour, typically with its internal state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Behaviour.html#clone()">clone</a></code>&nbsp;in interface&nbsp;<code><a href="Behaviour.html" title="interface in net.demilich.metastone.game.behaviour">Behaviour</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="AbstractBehaviour.html#clone()">clone</a></code>&nbsp;in class&nbsp;<code><a href="AbstractBehaviour.html" title="class in net.demilich.metastone.game.behaviour">AbstractBehaviour</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A clone of the <a href="Behaviour.html" title="interface in net.demilich.metastone.game.behaviour"><code>Behaviour</code></a> instance.</dd>
</dl>
</li>
</ul>
<a id="getMaxDepth()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxDepth</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getMaxDepth()</pre>
<div class="block">Indicates the maximum depth of breadth-first-searched nodes that should be expanded in order to find the highest
 scoring game state.
 <p>
 Setting this depth higher exponentially increases the number of nodes that could get visited for evaluating
 potential game state scores.
 <p>
 Setting this depth too low will make the bot miss lethal, especially if it has to use more than <code>maxDepth</code>
 cards or attack with more than <code>maxDepth</code> minions in order to kill the bot's opponent.
 <p>
 The default value on the hosted version of Spellsource is <code>2</code>. For a good compromise between performance and
 finding the most commmon lethals, choose <code>5</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The currently configured maximium depth.</dd>
</dl>
</li>
</ul>
<a id="setMaxDepth(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxDepth</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMaxDepth&#8203;(int&nbsp;maxDepth)</pre>
</li>
</ul>
<a id="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Behaviour.html#getName()">Behaviour</a></code></span></div>
<div class="block">Gets a name for the behaviour. This should correspond to how the decisions are being made, e.g., a <code>"Human
 Behaviour"</code> or an <code>"AI Behaviour</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>String</code> description of the behaviour.</dd>
</dl>
</li>
</ul>
<a id="getStrictPlan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStrictPlan</h4>
<pre class="methodSignature">public&nbsp;java.util.Deque&lt;<a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a>&gt;&nbsp;getStrictPlan()</pre>
<div class="block">A strict plan is a cache of a computed path (sequence of actions) to a gamestate stored as the actions themselves.
 <p>
 Whenever you call <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a>, the instance of <a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour"><code>GameStateValueBehaviour</code></a> evaluates sequences of actions of length maximum <a href="#getMaxDepth()"><code>getMaxDepth()</code></a>, and scores the
 value of the <b>last</b> game state (i.e. the game state you arrive at after performing that sequence of actions).
 But the <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a> method returns the <b>first</b> action in that sequence.
 <p>
 Clearly, the sequence of best actions isn't going to change before and after you take the <a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions"><code>GameAction</code></a> that
 was returned by the first call to <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a>. This <code>Deque</code> stores the
 sequence that was computed as a side effect of <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a>. With it, the next
 call to <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a> doesn't have to recompute a whole sequence of actions
 every time; it can use whatever is left of the sequence of actions that led to the best scoring state.
 <p>
 Since game states are reproducible, and this behaviour "cheats" (it knows what the random seed is), there should be
 an exact match between the <code>Deque.peekFirst()</code>'d <a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions"><code>GameAction</code></a> in this plan and a game action returned
 by <a href="../GameContext.html#getValidActions()"><code>GameContext.getValidActions()</code></a>  until the plan has been exhausted (i.e. the plan is <code>Collection.isEmpty()</code> <code>== true</code>).
 <p>
 Because the API of a <a href="../GameContext.html" title="class in net.demilich.metastone.game"><code>GameContext</code></a> does not guarantee that a <a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions"><code>GameAction</code></a> has no references to the
 <a href="../GameContext.html" title="class in net.demilich.metastone.game"><code>GameContext</code></a> or its objects, this class also implements a <a href="#getIndexPlan()"><code>getIndexPlan()</code></a>, which uses integers to
 represent an index into <a href="../GameContext.html#getValidActions()"><code>GameContext.getValidActions()</code></a>.
 <p>
 For example, this code will "follow the plan" that was computed as a side effect of running <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a>.
 <pre>
 <code>
 while (!getStrictPlan().isEmpty()) {
   context.performGameAction(playerId, getStrictPlan().pollFirst());
 }
 </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A path of actions (state transitions) towards the highest scoring game state.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getIndexPlan()"><code>for an equivalent representation of the path that does not use  objects.</code></a></dd>
</dl>
</li>
</ul>
<a id="setStrictPlan(java.util.Deque)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStrictPlan</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setStrictPlan&#8203;(java.util.Deque&lt;<a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a>&gt;&nbsp;strictPlan)</pre>
</li>
</ul>
<a id="mulligan(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mulligan</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../cards/Card.html" title="class in net.demilich.metastone.game.cards">Card</a>&gt;&nbsp;mulligan&#8203;(<a href="../GameContext.html" title="class in net.demilich.metastone.game">GameContext</a>&nbsp;context,
                                     <a href="../Player.html" title="class in net.demilich.metastone.game">Player</a>&nbsp;player,
                                     java.util.List&lt;<a href="../cards/Card.html" title="class in net.demilich.metastone.game.cards">Card</a>&gt;&nbsp;cards)</pre>
<div class="block">Mulligans for cards, preferring to create an on-curve starting hand.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - The game context.</dd>
<dd><code>player</code> - The player who's mulliganing.</dd>
<dd><code>cards</code> - The cards in the player's first hand.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of cards to discard.</dd>
</dl>
</li>
</ul>
<a id="requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestAction</h4>
<pre class="methodSignature">@Suspendable
@Nullable
public&nbsp;<a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a>&nbsp;requestAction&#8203;(@NotNull
                                <a href="../GameContext.html" title="class in net.demilich.metastone.game">GameContext</a>&nbsp;context,
                                @NotNull
                                <a href="../Player.html" title="class in net.demilich.metastone.game">Player</a>&nbsp;player,
                                @NotNull
                                java.util.List&lt;<a href="../actions/GameAction.html" title="class in net.demilich.metastone.game.actions">GameAction</a>&gt;&nbsp;validActions)</pre>
<div class="block">Requests an action from the GameStateValueBehaviour using a scoring function. This method uses a cache of what it
 has computed before if it is provided with <a href="#setIndexPlan(java.util.Deque)"><code>setIndexPlan(Deque)</code></a> or <a href="#setStrictPlan(java.util.Deque)"><code>setStrictPlan(Deque)</code></a>.
 <p>
 Suppose the board looked like this:

 <pre>
     Opponent: Warrior, 7 HP, no cards in hand, no minions on the board.
     This Player: Mage, 30 HP, a Fireball in the hand, 6 mana.
 </pre>
 <p>
 Clearly, this player has lethal: Fireballing the opponent, followed by Fireblasting the opponent, will win the
 game. There are two sequences of actions in this case that win the game. How does this function wind up returning
 the correct actions twice in order to win the game?
 <p>
 First, at the beginning of the turn, the request action function receives the above game state, followed by the
 possible actions:

 <pre>
 1. Fireball opponent.
 2. Fireball yourself.
 3. Fireblast opponent.
 4. Fireblast yourself.
 5. End the turn.
 </pre>
 <p>
 Suppose we scored each action with a simple function: "1 point if the enemy hero is destroyed, otherwise 0."

 <pre>
 1. Fireball opponent = 0 points.
 2. Fireball yourself = 0 points.
 3. Fireblast opponent = 0 points.
 4. Fireblast yourself = 0 points.
 5. End the turn = 0 points.
 </pre>
 <p>
 By just looking at the current actions, it's impossible to see that fireballing or fireblasting your opponent will
 lead to victory, even though the scoring function ought to work fine in this particular case.
 <p>
 What if instead we chose an action based on the score of the state at the end of the SEQUENCE of actions that
 particular action can enable? If we expand all the possible actions given our choices, we get:

 <pre>
 1. Fireball opponent = 0 points.
  1. Fireblast opponent = 1 point.
    **1. End turn = 1 point.**
  2. Fireblast yourself = 0 points.
    1. End Turn = 0 points.
  3. End turn = 0 points.
 2. Fireball yourself = 0 points.
  1. Fireblast opponent = 0 points.
    1. End turn = 0 points.
  2. Fireblast yourself = 0 points.
    1. End Turn = 0 points.
  3. End turn = 0 points.
 3. Fireblast opponent = 0 points.
  1. Fireball opponent = 1 point.
    **1. End turn = 1 point.**
  2. Fireball yourself = 0 points.
    1. End Turn = 0 points.
  3. End turn = 0 points.
 4. Fireblast yourself = 0 points.
  1. Fireball opponent = 0 points.
    1. End turn = 0 points.
  2. Fireball yourself = 0 points.
    1. End Turn = 0 points.
  3. End turn = 0 points.
 5. End the turn = 0 points.
 </pre>
 <p>
 When expanding all the possible actions, there are now two sequences of actions that end with 1 point.
 <p>
 This function will return the FIRST action in the sequence that terminates with the highest score at the end of the
 turn. In this example, it will return either action 1 (Fireball opponent) or action 3 (Fireblast opponent).
 <p>
 The scoring function is much more complicated, but in broad strokes it works the way as described above.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - The game context where the choice is being made.</dd>
<dd><code>player</code> - The player who is making the choice.</dd>
<dd><code>validActions</code> - The valid actions the player has to choose from.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The action that maximizes the score of the state of the game at the end of this player's turn.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="heuristic/ThreatBasedHeuristic.html" title="class in net.demilich.metastone.game.behaviour.heuristic"><code>for an overview of the scoring function.</code></a></dd>
</dl>
</li>
</ul>
<a id="setIndexPlan(java.util.Deque)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIndexPlan</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setIndexPlan&#8203;(java.util.Deque&lt;java.lang.Integer&gt;&nbsp;indexPlan)</pre>
</li>
</ul>
<a id="getIndexPlan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexPlan</h4>
<pre class="methodSignature">public&nbsp;java.util.Deque&lt;java.lang.Integer&gt;&nbsp;getIndexPlan()</pre>
<div class="block">The index plan is a sequence of indices into <a href="../GameContext.html#getValidActions()"><code>GameContext.getValidActions()</code></a> that the bot can perform to go
 towards a previously-computed highest-scoring game state. It is essentially a cache of a prior computation of the
 best possible <a href="#getMaxDepth()"><code>getMaxDepth()</code></a> number of actions.
 <p>
 For example, this code will "follow the plan" that was computed as a side effect of running <a href="#requestAction(net.demilich.metastone.game.GameContext,net.demilich.metastone.game.Player,java.util.List)"><code>requestAction(GameContext, Player, List)</code></a>.
 <pre>
 <code>
 while (!getIndexPlan().isEmpty()) {
   context.performGameAction(playerId, context.getValidActions().get(getIndexPlan().pollFirst());
 }
 </code>
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Indices into <a href="../GameContext.html#getValidActions()"><code>GameContext.getValidActions()</code></a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getStrictPlan()"><code>for an explanation of how this cache works.</code></a></dd>
</dl>
</li>
</ul>
<a id="getTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeout</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getTimeout()</pre>
</li>
</ul>
<a id="isDisposeNodes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDisposeNodes</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isDisposeNodes()</pre>
</li>
</ul>
<a id="setDisposeNodes(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDisposeNodes</h4>
<pre class="methodSignature">public&nbsp;<a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a>&nbsp;setDisposeNodes&#8203;(boolean&nbsp;disposeNodes)</pre>
</li>
</ul>
<a id="isForceGarbageCollection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isForceGarbageCollection</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isForceGarbageCollection()</pre>
</li>
</ul>
<a id="setForceGarbageCollection(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setForceGarbageCollection</h4>
<pre class="methodSignature">public&nbsp;<a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a>&nbsp;setForceGarbageCollection&#8203;(boolean&nbsp;forceGarbageCollection)</pre>
</li>
</ul>
<a id="setTimeout(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeout</h4>
<pre class="methodSignature">public&nbsp;<a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a>&nbsp;setTimeout&#8203;(long&nbsp;timeout)</pre>
</li>
</ul>
<a id="isParallel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isParallel</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isParallel()</pre>
</li>
</ul>
<a id="setParallel(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setParallel</h4>
<pre class="methodSignature">public&nbsp;<a href="GameStateValueBehaviour.html" title="class in net.demilich.metastone.game.behaviour">GameStateValueBehaviour</a>&nbsp;setParallel&#8203;(boolean&nbsp;parallel)</pre>
</li>
</ul>
<a id="getMinFreeMemory()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMinFreeMemory</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getMinFreeMemory()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
