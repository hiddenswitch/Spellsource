plugins {
    id 'maven-publish'
}

apply plugin: 'java-library'
apply plugin: 'maven'
apply plugin: 'maven-publish'

group = '{{groupId}}'
version = '{{artifactVersion}}'

repositories {
    jcenter()
}

publishing {
    publications {
        maven(MavenPublication) {
            groupId = 'com.hiddenswitch'
            artifactId = 'client'
            version = version

            from components.java
        }
    }
}

install {
    repositories.mavenInstaller {
        pom.artifactId = '{{artifactId}}'
    }
}

task execute(type:JavaExec) {
   main = System.getProperty('mainClass')
   classpath = sourceSets.main.runtimeClasspath
}

ext {
    swagger_annotations_version = "1.5.15"
    jackson_version = "2.9.9"
    jersey_version = "1.19.4"
    jodatime_version = "2.9.9"
    junit_version = "4.12"
}

dependencies {
    api "io.swagger:swagger-annotations:$swagger_annotations_version"
    api "com.sun.jersey:jersey-client:$jersey_version"
    api "com.sun.jersey.contribs:jersey-multipart:$jersey_version"
    api "com.fasterxml.jackson.core:jackson-core:$jackson_version"
    api "com.fasterxml.jackson.core:jackson-annotations:$jackson_version"
    api "com.fasterxml.jackson.core:jackson-databind:$jackson_version"
    api "com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:$jackson_version"
    {{#joda}}
    api "com.fasterxml.jackson.datatype:jackson-datatype-joda:$jackson_version"
    {{/joda}}
    {{#java8}}
    api "com.fasterxml.jackson.datatype:jackson-datatype-jsr310:$jackson_version"
    {{/java8}}
    {{#threetenbp}}
    api "com.github.joschi.jackson:jackson-datatype-threetenbp:$jackson_version"
    {{/threetenbp}}
    {{^java8}}
    api "com.brsanthu:migbase64:2.2"
    {{/java8}}
    testImplementation "junit:junit:$junit_version"
}